<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Yu-Gi-Oh! Deck Builder </title>
    <link rel="icon" href="/images/deck_favicon.png" type="image/png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/styles/main.css">
</head>

<body>
<div class="container col-xxl-8 px-4 py-5" id="icon-grid">
<h1> Deck Advisor</h1>
<div class='container chat-container'>


        <!-- Chat Box -->
        <div class="chat-box" id="chatbox">
            <div class="chat-message user">
                <p class="bg-secondary text-white p-2 rounded">Hello, how can I help you?</p>
            </div>
<!--             <div class="chat-message bot"> -->
<!--                 <p class="bg-secondary text-white p-2 rounded">I have a question about your services.</p> -->
<!--             </div> -->
        </div>
<div class="input-group mb-3">
  <input type="text" class="form-control" id="userQuestion" placeholder="Type your Question here" aria-label="Recipient's username" aria-describedby="button-addon2">
  <button class="btn btn-outline-secondary" type="button" id="ai-submit-button">Submit</button>
</div>

<script>
document.getElementById('ai-submit-button').addEventListener('click', async function (){
const input = document.getElementById('userQuestion').value;

const response = await fetch('/advisor', {
method: 'POST',
headers:{ 'Content-Type': 'application/json',},
body:JSON.stringify({question:input}),
});

const data = await response.json();
var chatbox_container= document.getElementById('chatbox');

const inputElement = document.createElement('p');
inputElement.className='bg-primary text-white p-2 rounded';
inputElement.textContent = input;
chatbox_container.appendChild(inputElement);

const responseElement = document.createElement('p');
responseElement.className='bg-secondary text-white p-2 rounded';
responseElement.textContent = data.answer;
chatbox_container.appendChild(responseElement);


});
</script>

</div>
</div>




</body>
</html>